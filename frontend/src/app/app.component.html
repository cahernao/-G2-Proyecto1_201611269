<!-- frontend/src/app/app.component.html -->
<div class="container mt-4">
  <ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="number-tab" data-bs-toggle="tab" data-bs-target="#number" type="button" role="tab">Números</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="face-tab" data-bs-toggle="tab" data-bs-target="#face" type="button" role="tab">Rostros</button>
    </li>
  </ul>

  <div class="tab-content mt-3" id="myTabContent">

    <!-- TAB: NÚMEROS -->
    <div class="tab-pane fade show active" id="number" role="tabpanel">
      <div class="row">
        <!-- Canvas + Botones -->
        <div class="col-md-6">
          <h5>Dibujar Número</h5>
          <div class="border p-2 bg-light" style="height: 280px">
            <!-- Canvas aquí -->
            <canvas id="canvas" width="250" height="250" class="border"></canvas>
          </div>
          <div class="mt-2">
            <button class="btn btn-secondary me-2">Limpiar</button>
            <button class="btn btn-primary">Evaluar</button>
          </div>
        </div>

        <!-- Tabla de resultados -->
        <div class="col-md-6">
          <h5>Predicción</h5>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Número</th>
                <th>Probabilidad (%)</th>
              </tr>
            </thead>
            <tbody>
              @for (r of resultadoNumero.probabilities; track $index) {
                <tr>
                <td>{{ r.number }}</td>
                <td>{{ r.probability }}</td>
              </tr>
              }
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- TAB: ROSTROS -->
    <div class="tab-pane fade" id="face" role="tabpanel">
      <div class="row">
        <!-- Input de imagen -->
        <div class="col-md-6">
          <h5>Cargar Imagen</h5>
          <input type="file" class="form-control" accept="image/*">
          <div class="mt-2">
            <button class="btn btn-primary">Analizar</button>
          </div>
        </div>

        <!-- Resultados de emociones -->
        <div class="col-md-6">
          <h5>Resultado</h5>
          <p><strong>Rostros detectados:</strong> {{ resultadoRostro?.cantidadRostros }}</p>
          <p><strong>Emoción principal:</strong> {{ resultadoRostro?.prediction }}</p>

          <table class="table table-striped">
            <thead>
              <tr>
                <th>Emoción</th>
                <th>Probabilidad (%)</th>
              </tr>
            </thead>
            <tbody>
              @for (e of resultadoRostro.probabilities; track $index) {
                <tr>
                  <td>{{ e.emotion }}</td>
                  <td>{{ e.probability }}</td>
                </tr>
              }
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
